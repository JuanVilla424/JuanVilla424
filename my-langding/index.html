<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Language Selection</title>
    <script>
        function getPreferredLanguage() {
            const urlParams = new URLSearchParams(window.location.search);
            let lang = urlParams.get('lang') || localStorage.getItem('preferred_language');

            if (!lang) {
                lang = navigator.language || navigator.userLanguage;
                lang = lang.split('-')[0].toLowerCase();
            }

            const supportedLangs = ["english", "spanish", "french", "german", "portuguese", "italian", "japanese", "korean", "chinese", "arabic"];

            if (!supportedLangs.includes(lang)) {
                lang = 'english';
            }

            return lang;
        }

        const lang = getPreferredLanguage();
        localStorage.setItem('preferred_language', lang);

        // Redirect to language-specific file
        window.location.href = lang + '_index.html';
    </script>
</head>
<body>
    <p>Detecting your language preference...</p>
</body>
</html>
